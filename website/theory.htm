
<html>
<head>
<title>Quake Lenses - Theory</title>
<link rel="stylesheet" href="main.css" />

<script type="text/javascript" src="raphael.js"></script>
<script type="text/javascript" src="theory.js"></script>
<style>
div#figure1, div#figure2, div#figure3
{
   border:1px dashed #000;
   background: #F0EAD6;
   width:650;
   height:300px;
   margin-left:auto;
   margin-right:auto;
}
</style>

</head>
<body>
<div id="header"> 
</div>

<div id="nav">
<a href="index.htm">home</a> | <a href="theory.htm">theory</a> | <a href="manual.htm">manual</a> | <a href="gallery.htm">gallery</a> | <a href="faq.htm">f.a.q.</a> | <a href="download.htm">download</a> | <a href="contact.htm">contact</a>
</div>
<div id="container">
<h2>How it works</h2>
This is a visual explanation of the theory behind Quake Lenses.  

<hr/>
<h3>The Standard Projection</h3>
<p>
The interactive figure below is a top-down view of how a camera takes a picture (sort of).  The colored circles represent the objects being photographed.  The flat line is the photograph itself. 
</p>
<p><strong>Try it:</strong> Drag the circles. </p>
<div id="figure1"></div>
<p>
This is incidentally how all 3D games today are rendered to your screen.  It is the Standard Projection, formally known as the <em>Rectilinear</em> Projection.
</p>
<p><strong>Note:</strong> Did you notice how the projection stretches near the edges of the photograph?</p>
<p>Unfortunately, stretching is a nasty side effect of the Standard Projection when used for <em>wide-angle</em> views.  The screenshot below has 160 degrees of view (same as the figure above).
</p>
<img class="centerimage" src="pics/standard-stretch.jpg" height="150" />
<p>The guys in the image above are all the same size, but distortion increases toward the edges of the image.  The Standard Projection is really only suited for 120 degrees at most.  So if you want a wider view, you have to try another projection.</p>

<hr/>
<h3>The Panorama</h3>
<p>The next figure is a top-down view of how a <em>panoramic</em> camera takes a picture (sort of).  The film is no longer flat, but curved into a cylinder or sphere around the camera.  After the picture is taken, we unroll it onto a flat frame.</p>
<p><strong>Try it:</strong> Drag the circles.</strong></p>
<div id="figure2"></div>
<p>
The following screenshot shows what this looks like in-game, with the same horizontal degrees (160) as the rectilinear example screenshot above.  
</p>
<img class="centerimage" src="pics/pan-stretch.jpg" height="150" />
<p>
<strong>Note:</strong> This screenshot is much less wider than the rectilinear projection, and yet it is still able to capture the same view, but without distortion near the margins.  In fact, the cylinder projection can be used to capture an entire 360 horizontal degrees, as seen in the following image:
</p>
<img class="centerimage" src="pics/pan-stretch2.jpg" height="150" />
<p>
It is hard to tell from a still image that this projection is ill-suited for games, but after watching the following clip, you will soon realize its most damning detriment.
</p>

<p>
The moving image creates a sense of nausea, stemming from the way that movement is translated into the projection.  Though it creates a wide field with minor distortion, it sacrifices the predictable "warping" of the image that creates the sense of space and perspective.  Thus, if we desire a less nauseating perspective, we must again move on to another projection.
</p>
<p>
<hr/>
<h3>The Stereograph</h3>
<p>
The stereograph is a combination of the Standard and Panoramic projections. It combines the best of both by forming a wide field of view without sacrificing playability.  The stereographic projection requires two cameras, illustrated by the following figure.
</p>
<div id="figure3"></div>
<p><strong>Try it:</strong> Drag the circles, and click the second camera to see the final projection.
<p>
The centered camera first projects the image onto the cylinder screen, exactly like before.  But instead of <em>unrolling</em> it onto a flat frame, we use a second camera to <em>project</em> it onto a flat frame.  The screenshot below shows what this looks like in-game.
</p>
<img class="centerimage" src="pics/stereo-stretch.jpg" height="150" />
<p>
<p>
The difference is subtle when showing only 160 degrees, but showing 300 degrees in the image below exaggerates what's really going on:
</p>
<p>
<img class="centerimage" src="pics/stereo-stretch2.jpg" width="100%" />
</p>
<p>
The idea here is that the stereographic projection increases the size of the objects near its margins, creating a predictable perspective effect.
</p>
<p><strong>Note:</strong> Did you notice that the guy in the far left in the image above is large, but undistorted?
</p>
</body>
</html>
