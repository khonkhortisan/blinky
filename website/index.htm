
<html>
<head>
<title>Quake Lenses - Home</title>
<link rel="stylesheet" href="main.css" />
</head>
<body>
<div id="container">

<h1>Quake Lenses</h1>

<p>
<a href="index.htm">home</a> | <a href="manual.htm">manual</a> | <a href="gallery.htm">gallery</a> | <a href="faq.htm">f.a.q.</a> | <a href="download.htm">download</a> | <a href="contact.htm">contact</a>
</p>

<h3>Welcome</h3>
<p>
Quake Lenses is an experiment for trying out new fields of view (FOVs) in 3D games.  It allows you to play Quake using a variety of different lenses, and it also allows you to make your own using Lua.
</p>

<h3>Quick Look</h3>
<table>
<tr>
   <td>
      <pre>
&gt; lens fish2
&gt; fit </pre>
      <a href="pics/index/fish2.gif"><img src="pics/index/fish2.gif" width=300 /></a>
   </td>
   <td>
      <pre>
&gt; lens panini
&gt; hfov 200
</pre>
      <a href="pics/index/panini.gif"><img src="pics/index/panini.gif" width=300 /></a>
   </td>
</tr>
<tr>
   <td>
      <pre>
&gt; lens vandergrinten
&gt; fit
</pre>
      <a href="pics/index/vandg.gif"><img src="pics/index/vandg.gif" width=300 /></a>
   </td>
   <td>
      <pre>
&gt; lens mercator
&gt; fit
</pre>
      <a href="pics/index/merc.gif"><img src="pics/index/merc.gif" width=300 /></a>
   </td>
</tr>
<tr>
   <td>
      <pre>
&gt; lens winkeltripel
&gt; fit
</pre>
      <a href="pics/index/winktri.gif"><img src="pics/index/winktri.gif" width=300 /></a>
   </td>
   <td>
      <pre>
&gt; lens cube
&gt; fit</pre>
      <a href="pics/index/cube.gif"><img src="pics/index/cube.gif" width=300 /></a>
   </td>
</tr>
</table>

<h3>Tools Used</h3>
<p>
<ul>
   <li><a href="http://strlen.com/gfxengine/fisheyequake/">Fisheye Quake</a></li>
   <li><a href="http://disenchant.net/engine.html">TyrQuake</a></li>
   <li><a href="http://luajit.org">LuaJIT</a></li>
</ul>
</p>

<h3>Commands</h3>
This commands can be entered into Quake via the console by pressing the tilde key (~).
<ul>
   <li><samp>lens name</samp> : change the lens (use tab key for completion)</li>
   <li><samp>hfov #</samp> : specify <acronym title="Field of View">FOV</acronym> in horizontal degrees</li>
      <li><samp>vfov #</samp>: specify <acronym title="Field of View">FOV</acronym> in vertical degrees</li>
      <li><samp>fit</samp> : make the lens image fit the screen</li>
      <li><samp>hfit</samp> : fit horizontally only</li>
      <li><samp>vfit</samp> : fit vertically only</li>
</ul>

<h3>Lens Files</h3>
<p>
In the lenses folder of your quake directory, you will see a collection of files.  Each file is a Lua script used by the game to construct a lens.  If you're interested, you can <a href="tutorial.htm">create your own</a> and place it in this folder.
<pre>
-- Stereographic Lens (stereographic.lua)

-- horizontal and vertical symmetry
hsym = true
vsym = true

-- FOV bounds
max_hfov = 360
max_vfov = 360

-- inverse mapping (screen to environment)
function r_to_theta(r)
   return 2*atan(r)
end

-- forward mapping (environment to screen)
function theta_to_r(theta)
   return tan(theta/2)
end
</pre>
</p>

<h3>Selecting a Lens</h3>
<p>
First, open quakelens.exe, and start a game.  To change your lens, use the <strong>lens</strong> command.  For example, if you wish to use the "panini" lens, type <strong>lens panini</strong>. The game will then load the file called "panini.lua" from the lenses folder.
</p>

<h3>FOV</h3>
<p>
You can zoom in and out by specifying a viewing angle. Type <strong>hfov 180</strong> if you want your screen to horizontally cover 180 degrees.  Similarly, you can type <strong>vfov 90</strong> to cover 90 degrees vertically.
</p>

<h3>Fitting</h3>
<p>
If the image produced by the lens is not infinite in size, you can fit the whole image on the screen by typing <strong>fit</strong>.  Alternately, if you just want the picture to fit the horizontal or vertical bounds of the screen, you can type <strong>hfit</strong> or <strong>vfit</strong>, respectively.
</p>
<p>
<table>
<tr>
   <td>
      <pre>
&gt; lens hammer
&gt; hfit
</pre>
      <a href="pics/hfit.gif"><img src="pics/hfit.gif" width=300 /></a>
   </td>
   <td>
      <pre>
&gt; lens hammer
&gt; vfit
</pre>
      <a href="pics/vfit.gif"><img src="pics/vfit.gif" width=300 /></a>
   </td>
</tr>
</table>
</p>

<h3>Invalid Modes</h3>
<p>
If the lens does not support the current zoom mode, Quake Lenses will give you a blank screen, an error message on the console, and will wait for you to enter a valid zoom mode.  For example, the cube lens does not support FOV; it can only be zoomed to fit the screen.  Another common error happens if the specified FOV is too high for the current lens.
</p>

</div>
</body>
</html>
